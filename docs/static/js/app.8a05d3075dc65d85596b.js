webpackJsonp([21],{120:function(t,e,n){"use strict";var o=n(0),i=(n(8),n(63)),s=n.n(i),r=n(181);o.default.use(s.a),o.default.locale("en",r.a)},121:function(t,e,n){"use strict";var o=n(0),i=n(363),s=function(){return n.e(7).then(n.bind(null,377))},r=function(){return n.e(1).then(n.bind(null,379))},u=function(){return n.e(4).then(n.bind(null,374))},c=function(){return n.e(5).then(n.bind(null,376))},a=function(){return n.e(2).then(n.bind(null,380))},l=function(){return n.e(9).then(n.bind(null,373))},f=function(){return n.e(3).then(n.bind(null,381))},d=function(){return n.e(6).then(n.bind(null,389))},h=function(){return n.e(13).then(n.bind(null,390))};o.default.use(i.a),e.a=new i.a({routes:[{name:"course-redirect",path:"/course/:classSlug/:contentSlug/:segmentId",redirect:function(t){var e=(t.hash,t.params);t.query;return"undefined"===e.classSlug||"undefined"===e.contentSlug||"undefined"===e.segmentId?{path:"/"}:{path:"/",query:{class:e.classSlug,content:e.contentSlug,segment:e.segmentId}}}},{name:"course",path:"/",component:u},{name:"class",path:"/course/:classSlug",component:u},{name:"registration",path:"/registration",component:r},{name:"feedback",path:"/feedback/browse/:classSlug/:contentSlug",component:a},{name:"view_feedback",path:"/feedback/:id",component:l},{name:"fourcorners",path:"/fourcorners",component:f},{name:"markdown",path:"/markdown/:url",component:c},{name:"schedule",path:"/schedule",component:h},{name:"about",path:"/about",component:d},{name:"admin",path:"/admin",component:s},{path:"*",redirect:"/"}]})},122:function(t,e){},128:function(t,e,n){n(245);var o=n(64)(n(197),n(362),null,null);t.exports=o.exports},145:function(t,e,n){"use strict";var o=n(6);n(8);e.a={methods:{dismissOverlay:function(){this.$store.commit(o.l),this.$store.commit(o.b),this.$store.commit(o.m),this.$store.commit(o.n),this.$store.commit(o.o),this.$store.getters.activeSegment?this.$store.commit(o.p,void 0):this.$store.commit(o.q,void 0)}}}},170:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getSubmissions:function(t,e,n){o.default.http.get(i.b+"/admin/content/"+t.theClass+"/"+t.slug).then(function(t){e(t.body)},function(t){n(t)})},getCourseUsers:function(t,e,n){o.default.http.get(i.b+"/admin/users").then(function(t){e(t.body)},function(t){n(t)})}}},171:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getQuestionResponses:function(t,e,n){o.default.http.get(i.b+"/analytics/answers").then(function(t){e(t.body)},function(t){n(t)})}}},172:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={checkAuth:function(t,e){o.default.http.get(i.b+"/auth/me").then(function(e){t(e.body)},function(t){e(t)})},logout:function(t,e){o.default.http.get(i.b+"/auth/logout").then(function(e){t(e.body)},function(t){e(t)})},register:function(t,e,n){o.default.http.options={credentials:!0,responseType:"json"},o.default.http.post(i.b+"/auth/register",t).then(function(t){e(t.body)},function(t){n(t)})},fetchQuestions:function(t,e){o.default.http.get(i.b+"/auth/registrationquestions").then(function(e){t(e.body)},function(t){e(t)})}}},173:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getTeacherCode:function(t,e,n){o.default.http.get(i.b+"/classroom/mycode/"+t.theClass+"/"+t.slug).then(function(t){e(t.body)},function(t){n(t)})},registerAttendance:function(t,e,n){o.default.http.options={credentials:!0,responseType:"json"},o.default.http.post(i.b+"/classroom/inclass",t).then(function(t){e(t.body)},function(t){n(t)})},getClassroomUsers:function(t,e,n){o.default.http.get(i.b+"/classroom/users/"+t.theClass+"/"+t.slug).then(function(t){e(t.body)},function(t){n(t)})},getClassroomStatus:function(t,e,n){o.default.http.get(i.b+"/classroom/getclass/"+t.theClass+"/"+t.slug).then(function(t){e(t.body)},function(t){n(t)})}}},174:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getSchedule:function(t,e,n){o.default.http.get(i.b+"/course/schedule?time="+t).then(function(t){e(t.body)},function(t){n(t)})},getSpec:function(t,e,n,s){o.default.http.get(i.b+"/course/spec/"+e+"?time="+t).then(function(t){n(t.body)},function(t){s(t)})},getHubs:function(t,e,n){o.default.http.get(i.b+"/course/hubs").then(function(t){e(t.body)},function(t){n(t)})},getLikeCount:function(t,e,n){o.default.http.get(i.b+"/messages/likes/"+t.class+"/"+t.content).then(function(t){e(t.body)},function(t){n(t)})}}},175:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getFeedbackItem:function(t,e,n){o.default.http.get(i.b+"/discussion/submission/"+t.id).then(function(t){e(t.body)},function(t){n(t)})},getDiscussion:function(t,e,n){o.default.http.get(i.b+"/discussion/messages/"+t.id).then(function(t){e(t.body)},function(t){n(t)})},getFeedbackItems:function(t,e,n){o.default.http.get(i.b+"/discussion/list/"+t.class+"/"+t.content).then(function(t){e(t.body)},function(t){n(t)})},getAvailableFeedbackItems:function(t,e,n){o.default.http.get(i.b+"/discussion/available/"+t.class+"/"+t.content).then(function(t){e(t.body)},function(t){n(t)})},postFeedbackMessage:function(t,e,n){o.default.http.options={credentials:!0,responseType:"json"},o.default.http.post(i.b+"/discussion/create/"+t.id,t).then(function(t){e(t)},function(t){n(t)})}}},176:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={likeContent:function(t,e,n){o.default.http.post(i.b+"/course/like/"+t.class+"/"+t.content).then(function(t){e(t.body)},function(t){n(t)})},unlikeContent:function(t,e,n){o.default.http.post(i.b+"/course/unlike/"+t.class+"/"+t.content).then(function(t){e(t.body)},function(t){n(t)})}}},177:function(t,e,n){"use strict";var o=n(0);n(2);e.a={fetchMarkdown:function(t,e,n){o.default.http.get(""+t,{credentials:!1,responseType:"text"}).then(function(t){e(t.body)},function(t){n(t)})}}},178:function(t,e,n){"use strict";var o=n(0),i=n(2),s=n(6),r=n(7),u=n(152),c=n.n(u),a=c.a.CancelToken,l=void 0;e.a={subscribeToSocket:function(){o.default.$log.info("Subscribing to socket"),o.default.io.socket.on("user",function(t){o.default.$log.info("SOCKET - user"),o.default.$log.info(t)}),o.default.io.socket.get("/v1/auth/me",function(t,e){o.default.$log.info("SOCKET RESPONSE - me"),o.default.$log.info(t)})},cancelBatchRequests:function(){l()},getSegmentSummary:function(t,e,n){c.a.get(i.b+"/messages/summarybatch/"+t.theClass+"/"+t.theContent+"/"+t.startSegment+"/"+t.endSegment+"/5?whitelist=true",{cancelToken:new a(function(t){l=t})}).then(function(t){o.default.$log.info(t),e(t.data)}).catch(function(t){c.a.isCancel(t)?o.default.$log.info("Request canceled",t.message):o.default.$log.info("There was an error fetching request")})},getSegmentSummarySocket:function(t,e,n){r.a.commit(s.k,t.startSegment+" - "+t.endSegment),o.default.io.socket.get("/v1/messages/subscribe/"+t.theClass+"/"+t.theContent+"/"+t.startSegment+"/"+t.endSegment+"?whitelist=true",function(t,n){e(t),o.default.$log.info("SOCKET RESPONSE - subscribe"),o.default.$log.info(t)})},getContentMessages:function(t,e,n){o.default.io.socket.get("/v1/messages/content/"+t.theClass+"/"+t.theContent+"?whitelist=true&limit=100",function(t,n){e(t)})},getMessages:function(t,e,n){o.default.http.get(i.b+"/messages/list/"+t.theClass+"/"+t.theContent+"/"+t.startSegment+"/"+t.endSegment+"?whitelist=true").then(function(t){e(t.body)},function(t){n(t)})},getSubtitles:function(t,e,n,i){o.default.http.get(e,{credentials:!1,responseType:"json"}).then(function(e){n({slug:t,response:e.body})},function(e){i({slug:t,response:e})})},getMedia:function(t,e,n,i){o.default.http.get(e,{credentials:!1,responseType:"json"}).then(function(e){n({slug:t,response:e.body})},function(e){i({slug:t,response:e})})},sendMessage:function(t,e,n){o.default.http.options={credentials:!0,responseType:"json"},o.default.http.post(i.b+"/messages/create",t).then(function(n){e(n,t)},function(t){n(t)})}}},179:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getQuestion:function(t,e,n){o.default.http.get(i.b+"/analytics/question/"+t.theClass+"/"+t.slug).then(function(t){e(t.body)},function(t){n(t)})},postAnswer:function(t,e,n){o.default.http.options={credentials:!0,responseType:"json"},o.default.http.post(i.b+"/analytics/answer/response",t).then(function(t){e(t.body)},function(t){n(t)})}}},180:function(t,e,n){"use strict";var o=n(0),i=n(2);e.a={getVisualisation:function(t,e,n){o.default.http.get(i.b+"/messages/visualisation/"+t.class+"/"+t.content+"?whitelist=true").then(function(t){e(t.body)},function(t){n(t)})}}},181:function(t,e,n){"use strict";e.a={common:{enable_debug_mode:"Enable Debug Mode",disable_debug_mode:"Disable Debug Mode",toggle_column:"Toggle Column",optional:"Optional",loading:"Loading",cancel:"Cancel",read_more:"Read More",explore_content:"Continue reading",age:"Your age",current_language:"Current language",current_service:"Current service",current_hub:"Current hub",continue:"Continue",next_page:"Next Page",previous_page:"Previous Page",choose_one:"Choose one",participate:"Participate",scroll_down_for_live_class:"Scroll down for the live class"},nav:{home:"Home",home_description:"Just go back to the home page.",course:"Course",course_description:"Take part in the course, experience the 'Live class' and join the conversation as it unfolds.",schedule:"Schedule",schedule_description:"View the schedule for upcoming content and when it will be relased by your hub.",about:"About",about_description:"Learn more about the Connected Academy platform and how we are changing how education is delivered.",terms:"Terms",terms_description:"Read the terms an conditions of using the Connected Academy platform."},auth:{login:"Login",logout:"Logout",login_with_twitter:"Login with Twitter",login_to_participate:"Login to Participate",register:"Register",welcome_to_registration:"Welcome to registration",attempt_registration:"Register",read_the_following:"Please read the following",answer_the_following:"Please answer the following",enter_your_email:"Enter your email",enter_your_age:"Enter your age",select_your_language:"Select your language",authenticate:"Authenticate",authenticating:"Authenticating...",i_agree_to_terms_and_conditions:"I agree with the terms & conditions",form:{your_name:"Your Name",name_placeholder:"e.g. John Smith",your_organisation:"Your Organisation",organisation_placeholder:"e.g. Newcastle University"}},composer:{compose_message:"Compose message",compose_message_active:"Write your message",message_placeholder:"Make a note here...",duration:"{currentTime}s"},course:{load_course:"Load Course",load_hubs:"Load Hubs",current_course_language:"Current course language",course_info:"Course Info",view_current_class:"View current class"},submission:{view_submissions:"View Submissions",make_a_submission:"Make a Submission"},like:{like_content:"Like Content",confirm:"Okay, got it"}}},182:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(129),s=n(8),r=n(126),u=n.n(r),c=n(63),a=(n.n(c),n(131)),l=n.n(a),f=n(127),d=n.n(f),h=n(125),g=n.n(h),m=n(132),p=(n.n(m),n(66)),v=n.n(p),S=n(128),b=n.n(S),_=n(120),w=n(7),E=n(121),y=n(124),P=n.n(y),A=n(123),T=n.n(A),C=n(130),M=n.n(C),k=this;n.i(m.sync)(w.a,E.a);var I=T()(P.a);I.sails.url="https://api.connectedacademy.io",o.default.io=I,o.default.use(M.a,I),o.default.component("icon",v.a),n(122),o.default.use(i.a),o.default.use(s.a),o.default.use(u.a,o.default.config);var L={logLevel:"info",stringifyArguments:!1,showLogLevel:!1,dev:!1};o.default.use(l.a,L),o.default.use(d.a),o.default.use(g.a,{id:"UA-44963053-16",router:E.a}),o.default.config.productionTip=!1,o.default.http.options={credentials:!0,responseType:"json"},o.default.http.interceptors.push(function(t,e){e(function(t){403===t.status&&(k.$log.info("Session invalid"),w.a.dispatch("logout"))})}),o.default.config.lang="en",o.default.config.fallbackLang="en",new o.default({el:"#app",store:w.a,router:E.a,template:"<App/>",components:{App:b.a,Icon:v.a,Lang:_.default,VueCookie:d.a}})},183:function(t,e,n){"use strict";var o=n(65),i=n.n(o),s=n(0),r=n(6),u=n(8),c=n(143),a=n.n(c);e.a={mounted:function(){window.setInterval(this.checkIfCanAutoScroll,200),window.setInterval(this.attemptAutoScroll,1e3),window.addEventListener("scroll",this.onScroll),window.addEventListener("wheel",this.onWheel,{passive:!0}),window.addEventListener("mousedown",this.onMousedown,{passive:!0}),window.addEventListener("touchstart",this.onMousedown,{passive:!0}),window.addEventListener("mouseup",this.onMouseup,{passive:!0}),window.addEventListener("touchend",this.onMouseup,{passive:!0})},destroyed:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("wheel",this.onWheel),window.removeEventListener("mousedown",this.onMousedown),window.removeEventListener("mouseup",this.onMouseup)},data:function(){return{wheeling:!1,canAutoScroll:!0,isAutoScrolling:!1,preventScroll:!1}},watch:{videoPlaying:function(){this.attemptAutoScroll()}},computed:i()({},n.i(u.b)(["currentSection","videoPlaying","currentSectionScrollPosition","activeSegment","peekSegment"])),methods:{checkIfCanAutoScroll:function(){this.canAutoScroll=!this.activeSegment&&!this.peekSegment&&!this.preventScroll&&this.videoPlaying&&void 0!==this.currentSection&&"class"===this.currentSection.content_type},attemptAutoScroll:function(){var t=this;if(s.default.$log.debug("Attempting auto scroll"),!this.canAutoScroll)return s.default.$log.debug("Cannot auto scroll"),void(this.isAutoScrolling=!1);if(this.isAutoScrolling)return void s.default.$log.debug("Already auto scrolling");this.isAutoScrolling=!0;var e=function(t,e,n,o){return n>o?e:t+n/o*(e-t)},n=Date.now(),o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,15)},i=this.scrollPosition,u=5e3,c=this.currentSection.bottom;0!==this.$store.state.pendingScrollPosition&&(this.$store.commit(r.f),c=this.$store.state.pendingScrollPosition,u=500);var a=(c-i)/158*u;!function s(){var u=Date.now()-n,l=e(i,c,u,a);t.preventScroll||window.scroll(0,l),u<=a&&t.canAutoScroll&&o(s),u>a&&(t.$store.commit("setPendingScrollPosition",0),t.$store.commit(r.e),t.attemptAutoScroll())}()},wheelMovement:function(){var t=this;if(!(this.activeSegment||this.peekSegment||this.preventScroll)){this.$store.commit(r.e),this.preventScroll=!0,this.isAutoScrolling=!1,clearTimeout(this.wheeling);var e=this;this.wheeling=setTimeout(function(){t.scrollPosition=window.scrollY,t.$store.dispatch("setScrollPosition",t.scrollPosition).then(function(){t.wheeling=void 0,e.preventScroll=!1})},1e3)}},setScrollPosition:a()(function(t){t.scrollPosition=window.scrollY,t.$store.dispatch("setScrollPosition",t.scrollPosition)},500,{leading:!1}),onScroll:function(){var t=this;this.scrollPosition=window.scrollY,window.scrollY<300?(this.preventScroll=!0,this.$store.dispatch("setScrollPosition",this.scrollPosition).then(function(){t.preventScroll=!1})):this.setScrollPosition(this)},onWheel:function(){this.activeSegment||this.wheelMovement(this)},onMousedown:function(){s.default.$log.debug("MOUSEDOWN"),this.preventScroll=!0,this.isAutoScrolling=!1},onMouseup:function(){s.default.$log.debug("MOUSEUP"),this.preventScroll=!1,this.isAutoScrolling=!1}}}},184:function(t,e,n){"use strict";var o=n(135),i=n.n(o),s=n(0);e.a={methods:{setScrollPoints:function(){s.default.$log.info("Updating scroll points");var t=this.$store.getters.currentClass;if(void 0!==t&&void 0!==t.content){var e=!0,n=!1,o=void 0;try{for(var r,u=i()(t.content);!(e=(r=u.next()).done);e=!0){var c=r.value;if(c.slug){var a=document.getElementById("course-content-"+c.slug);if(a){this.$store.commit("setScrollPoint",{title:c.title,slug:c.slug,content_type:c.content_type,sectionTop:a.offsetTop,top:380+a.offsetTop,bottom:a.offsetTop+a.offsetHeight,duration:c.duration,transcript:c.transcript,prompts:c.prompts,images:c.images,videoId:c.video,soundcloudId:c.soundcloudId})}}}}catch(t){n=!0,o=t}finally{try{!e&&u.return&&u.return()}finally{if(n)throw o}}}}}}},185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"setScrollPosition",function(){return s}),n.d(e,"saveScrollPosition",function(){return r}),n.d(e,"resetState",function(){return u});var o=n(0),i=n(7),s=function(t,e){var n=t.commit,o=void 0;if(0!==i.a.state.scrollPoints.length){var s=i.a.state.offsetScrollPosition;for(var r in i.a.state.scrollPoints){var u=i.a.state.scrollPoints[r];s>u.top&&s<u.bottom&&"class"===u.content_type&&(o=u)}}n("setCurrentSection",o),n("setScrollPosition",e)},r=function(t){(0,t.commit)("setSavedScrollPosition",i.a.state.scrollPosition)},u=function(t){var e=t.commit;o.default.$log.info("Reseting store.state..."),e("resetScrollPoints")};e.default=s},186:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"fauxTime",function(){return i}),n.d(e,"pageStyle",function(){return s}),n.d(e,"scrollPosition",function(){return r}),n.d(e,"scrollPoints",function(){return u}),n.d(e,"offsetScrollPosition",function(){return c}),n.d(e,"currentTime",function(){return a}),n.d(e,"currentSection",function(){return l}),n.d(e,"autoPlaying",function(){return f});var o=n(7),i=function(t){return t.fauxTime},s=function(t){return{authenticating:"registration"===t.route.name,authenticated:t.auth.isAuthenticated}},r=function(t){return t.scrollPosition},u=function(t){return t.scrollPoints},c=function(t){return t.offsetScrollPosition},a=function(t){if(!o.a.getters.currentSectionScrollPosition)return 0;var e=o.a.getters.currentSectionScrollPosition/31.6;return e<0?0:e},l=function(t){return t.currentSection},f=function(t){return t.autoPlaying}},187:function(t,e,n){"use strict";var o,i=n(9),s=n.n(i),r=n(0),u=n(6),c=n(19),a={visible:!1,isAuthenticated:!1,isAuthenticating:!1,session:{},user:void 0,admin:void 0},l={isAuthenticated:function(t){return t.isAuthenticated},isRegistered:function(t){return!!t.user&&t.user.registration},user:function(t){return t.user},admin:function(t){return t.admin}},f={checkAuth:function(t){var e=t.commit;r.default.$log.info("Checking auth..."),c.a.auth.checkAuth(function(t){return e(u.M,{response:t})},function(t){return e(u.N,{response:t})})},logout:function(t){var e=t.commit;c.a.auth.logout(function(t){return e(u.O,{response:t})},function(t){return e(u.P,{response:t})})}},d=(o={},s()(o,u.h,function(t){a.visible=!0}),s()(o,u.l,function(t){a.visible=!1}),s()(o,u.M,function(t,e){var n=e.response;r.default.$log.info("Auth success"),r.default.$log.info(n),a.isAuthenticated=!0,a.user=n.user,a.admin=n.admin}),s()(o,u.N,function(t,e){e.response;r.default.$log.info("Auth failure"),a.isAuthenticated=!1}),s()(o,u.O,function(t,e){e.response;a.visible=!1,a.isAuthenticated=!1,a.user=void 0}),s()(o,u.P,function(t,e){e.response}),s()(o,"isAuthenticating",function(t,e){t.commit;a.isAuthenticating=e}),s()(o,"setSession",function(t,e){t.commit;a.session=e}),s()(o,"attemptAuth",function(t,e){t.commit;a.user=e,document.location="https://api.connectedacademy.io/v1/auth/login"}),o);e.a={state:a,getters:l,actions:f,mutations:d}},188:function(t,e,n){"use strict";var o,i=n(9),s=n.n(i),r=(n(0),n(6)),u=(n(19),{visible:!0,hidden:!1}),c={composerHidden:function(){return u.hidden}},a={},l=(o={},s()(o,r.c,function(t){u.visible=!0,u.hidden=!1}),s()(o,r.m,function(t){u.visible=!1,u.hidden=!1}),s()(o,r.L,function(t){u.visible=!1,u.hidden=!1}),s()(o,r.d,function(t){u.visible=!1,u.hidden=!0}),s()(o,r.m,function(t){u.visible=!1,u.hidden=!1}),s()(o,r.t,function(t,e){e.response,e.postData}),s()(o,r.u,function(t,e){e.response;alert("Message failed to send")}),o);e.a={state:u,getters:c,actions:a,mutations:l}},189:function(t,e,n){"use strict";var o,i=n(9),s=n.n(i),r=n(0),u=n(6),c=n(19),a=n(7),l=n(147),f=n.n(l),d={visualisation:[],media:[],activeSegment:void 0,peekSegment:void 0,activeSegmentMessages:[],subscribedTo:void 0,likeModalVisible:!1},h={subscribedTo:function(){return d.subscribedTo},activeSegment:function(){return d.activeSegment},peekSegment:function(){return d.peekSegment},activeSegmentMessages:function(){return d.activeSegmentMessages},likeModalVisible:function(){return d.likeModalVisible},media:function(){return r.default.$log.info("Media from state"),d.media},visualisation:function(){return r.default.$log.info("Visualisation from state"),d.visualisation},videoIsActive:function(){return void 0!==a.a.getters.currentSection&&void 0!==a.a.getters.currentSection.duration},currentActiveSection:function(){if(0!==a.a.state.scrollPoints.length){var t=a.a.state.scrollPosition;for(var e in a.a.state.scrollPoints){var n=a.a.state.scrollPoints[e];if(t>n.sectionTop&&t<n.bottom)return n}}},currentSectionScrollPosition:function(){return a.a.getters.currentSection?a.a.state.offsetScrollPosition-a.a.getters.currentSection.top:0},currentSegmentGroup:function(){return a.a.getters.currentSection?f.a.floor(a.a.getters.currentSectionScrollPosition/158):-1},currentSegment:function(){return a.a.getters.currentSection?f.a.floor(a.a.getters.currentSectionScrollPosition/31.6):0}},g={getMedia:function(t,e){var n=t.commit;c.a.message.getMedia(e.slug,e.path,function(t){return n(u.w,{response:t})},function(t){return n(u.x,{response:t})})}},m=(o={},s()(o,u.y,function(t,e){var n=e.response;d.visualisation=n.data}),s()(o,u.z,function(t,e){e.response;r.default.$log.info("error"),d.visualisation=[]}),s()(o,u.w,function(t,e){var n=e.response;d.media=n.response}),s()(o,u.x,function(t,e){e.response;r.default.$log.info("error"),d.media=[]}),s()(o,u.A,function(t,e){var n=e.response;parseInt(.2*parseInt(n.scope.startsegment)),parseInt(.2*parseInt(n.scope.endsegment));for(var o in n.data){var i=parseInt(.2*parseInt(o)),s=n.data[o];s.segmentGroup=i,r.default.set(d.messages,i,s)}}),s()(o,u.p,function(t,e){d.activeSegment=e}),s()(o,u.q,function(t,e){d.peekSegment=e}),s()(o,u.k,function(t,e){d.subscribedTo=e}),s()(o,u.B,function(t,e){d.activeSegmentMessages=e}),s()(o,u.v,function(t,e){d.activeSegmentMessages.push(e)}),s()(o,u.C,function(t){d.likeModalVisible=!0}),s()(o,u.b,function(t){d.likeModalVisible=!1}),o);e.a={state:d,getters:h,actions:g,mutations:m}},19:function(t,e,n){"use strict";var o=(n(0),n(2),n(172)),i=n(170),s=n(171),r=n(176),u=n(177),c=n(174),a=n(178),l=n(180),f=n(175),d=n(179),h=n(173);e.a={auth:o.a,admin:i.a,analytics:s.a,like:r.a,markdown:u.a,course:c.a,message:a.a,visualisation:l.a,feedback:f.a,question:d.a,classroom:h.a}},190:function(t,e,n){"use strict";var o,i=n(9),s=n.n(i),r=n(0),u=n(6),c=n(19),a=n(7),l=n(71),f=n.n(l),d=n(332),h=n.n(d),g=n(136),m=n.n(g),p={current_class:void 0,current_lang:"en",course:{},hubs:{}},v={course:function(){return p.course},hubs:function(){return p.hubs},currentClass:function(){return p.current_class},courseContent:function(){if(void 0!==p.current_class)return r.default.$log.info(p.current_class.content),m()(p.current_class.content,function(t){return!h()(["title"],t.content_type)})}},S={getCourse:function(t){var e=t.commit,n=a.a.state.fauxTime.replace("+",encodeURIComponent("+"));c.a.course.getSchedule(n,function(t){return e(u.D,{response:t})},function(t){return e(u.E,{response:t})})},getSpec:function(t,e){var n=t.commit,o=a.a.getters.fauxTime.replace("+",encodeURIComponent("+"));p.current_class={slug:e,loading:!0},c.a.course.getSpec(o,e,function(t){return n(u.F,{response:t})},function(t){return n(u.G,{response:t})})},getHubs:function(t){var e=t.commit;c.a.course.getHubs(c.a.course,function(t){return e(u.H,{response:t})},function(t){return e(u.I,{response:t})})}},b=(o={},s()(o,u.D,function(t,e){var n=e.response;if(a.a.state.timetravel&&n.classes&&n.classes.length&&n.classes[0].release_at){var o=n.classes[0].release_at;if(o){var i=f()(o).add(1,"days").format();a.a.commit("setFauxTime",i)}}p.course=n}),s()(o,u.E,function(t,e){e.response;p.course={}}),s()(o,u.F,function(t,e){var n=e.response;p.current_class=n}),s()(o,u.G,function(t,e){e.response;p.current_class={}}),s()(o,u.H,function(t,e){var n=e.response;p.hubs=n}),s()(o,u.I,function(t,e){e.response;p.hubs={}}),s()(o,u.J,function(t,e){p.current_class=e}),s()(o,u.K,function(t,e){p.current_lang=e}),o);e.a={state:p,getters:v,actions:S,mutations:b}},191:function(t,e,n){"use strict";var o={columns:{main:{state:"wide"}}},i={},s={setColumnState:function(t,e){t.commit;o.columns.main.state=e},toggleColumnState:function(t){t.commit;"narrow"===o.columns.main.state?o.columns.main.state="wide":o.columns.main.state="narrow"}},r={};e.a={state:o,getters:i,actions:s,mutations:r}},192:function(t,e,n){"use strict";var o=n(9),i=n.n(o),s={visible:!1,currentMedia:void 0},r={currentLightboxMedia:function(){return s.currentMedia},lightboxVisible:function(){return s.visible}},u={},c=i()({},"SET_LIGHTBOX_MEDIA",function(t,e){s.currentMedia=e,s.visible=void 0!==e});e.a={state:s,getters:r,actions:u,mutations:c}},193:function(t,e,n){"use strict";var o,i=n(9),s=n.n(i),r=n(6),u=n(146),c=n.n(u),a={overlayVisible:!1,visible:!0,minimized:!1,burger:{state:"default"},leftDrawer:{visible:!1},rightDrawer:{visible:!1},pageStyles:void 0},l={navigation:function(){return a},navigationVisible:function(){return a.visible},pageStyles:function(){return a.pageStyles}},f={setHeaderHeight:function(){commit()}},d=(o={},s()(o,r.s,function(t,e){a.pageStyles=e}),s()(o,r.r,function(t,e){c()(e,function(t,e){a[e]=t})}),s()(o,r.j,function(t){a.leftDrawer.visible=!a.leftDrawer.visible,a.overlayVisible=a.leftDrawer.visible,a.burger.state=a.leftDrawer.visible?"close":"default"}),s()(o,r.i,function(t){a.rightDrawer.visible=!a.rightDrawer.visible,a.overlayVisible=a.rightDrawer.visible}),s()(o,r.n,function(t){a.leftDrawer.visible=!1,a.overlayVisible=!1,a.burger.state="default"}),s()(o,r.o,function(t){a.rightDrawer.visible=!1,a.overlayVisible=!1}),o);e.a={state:a,getters:l,actions:f,mutations:d}},194:function(t,e,n){"use strict";var o,i=n(9),s=n.n(i),r={playing:!1,position:0,duration:void 0},u={videoPlaying:function(){return r.playing},videoPosition:function(){return r.position},videoDuration:function(){return r.duration}},c={},a=(o={},s()(o,"PAUSE_VIDEO",function(t){r.playing=!1}),s()(o,"PLAY_VIDEO",function(t){r.playing=!0}),o);e.a={state:r,getters:u,actions:c,mutations:a}},195:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"setFauxTime",function(){return i}),n.d(e,"setScrollPosition",function(){return s}),n.d(e,"setPendingScrollPosition",function(){return r}),n.d(e,"TOGGLE_DEBUG_MODE",function(){return u}),n.d(e,"TOGGLE_TIMETRAVEL_MODE",function(){return c}),n.d(e,"setAutoPlaying",function(){return a}),n.d(e,"setSavedScrollPosition",function(){return l}),n.d(e,"resetScrollPoints",function(){return f}),n.d(e,"setScrollPoint",function(){return d}),n.d(e,"setCurrentSection",function(){return h});var o=n(0),i=(n(6),function(t,e){t.fauxTime=e}),s=function(t,e){t.scrollPosition=e;var n=window.innerHeight-208;t.offsetScrollPosition=t.scrollPosition+n},r=function(t,e){t.pendingScrollPosition=e},u=function(t){t.debug=!t.debug},c=function(t){t.timetravel=!t.timetravel},a=function(t,e){t.autoPlaying=e},l=function(t,e){t.savedScrollPosition=e},f=function(t){t.scrollPoints={}},d=function(t,e){o.default.set(t.scrollPoints,e.slug,e)},h=function(t,e){t.currentSection=e}},196:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i={};e.default={name:"icon",props:{name:{type:String,validator:function(t){return t?t in i||(o.default.util.warn('Invalid prop: prop "icon" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.',this),!1):null}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(o.default.util.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},clazz:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?i[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,n=t.height;return Math.max(e,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,n=0;this.$children.forEach(function(t){e=Math.max(e,t.width),n=Math.max(n,t.height)}),this.childrenWidth=e,this.childrenHeight=n,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(n-t.height)/2})}},register:function(t){for(var e in t){var n=t[e];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),i[e]=n}},icons:i}},197:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(65),i=n.n(o),s=n(7),r=n(8),u=n(19),c=n(184),a=n(183),l=n(145);e.default={name:"app",mixins:[c.a,a.a,l.a],watch:{activeSegment:function(t,e){document.body.className=t?"disable-scroll":"allow-scroll"}},created:function(){var t=this;this.$store.dispatch("checkAuth").then(function(){t.isAuthenticated&&!t.isRegistered?t.$router.push("/registration"):t.user&&t.user.account&&t.$ga.set("userId",t.user.account)}),this.$store.dispatch("getCourse"),this.$store.dispatch("getHubs"),window.setInterval(this.updateDocumentHeight,1e3)},mounted:function(){u.a.message.subscribeToSocket()},data:function(){return{navTitle:"Connected Academy"}},computed:i()({},n.i(r.b)(["isRegistered","activeSegment","peekSegment","pageStyles","user","navigation"]),{overlayVisible:function(){return this.$store.state.navigation.overlayVisible||this.$store.state.auth.visible||this.$store.state.conversation.activeSegment||this.$store.state.conversation.peekSegment||this.$store.state.conversation.likeModalVisible}}),store:s.a,components:{LeftDrawer:function(){return n.e(15).then(n.bind(null,387))},RightDrawer:function(){return n.e(11).then(n.bind(null,388))},Lock:function(){return n.e(18).then(n.bind(null,378))},DebugPanel:function(){return n.e(19).then(n.bind(null,375))},BurgerMenu:function(){return n.e(16).then(n.bind(null,384))},AuthenticationFlow:function(){return n.e(0).then(n.bind(null,149))},Navigation:function(){return n.e(12).then(n.bind(null,385))},SectionNavigator:function(){return n.e(10).then(n.bind(null,386))},ActionPanel:function(){return n.e(8).then(n.bind(null,372))},LikeModal:function(){return n.e(17).then(n.bind(null,382))},MediaLightbox:function(){return n.e(14).then(n.bind(null,383))}},methods:{goBack:function(){this.$router.go(-1)},updateDocumentHeight:function(){this.documentHeight!==document.documentElement.scrollHeight&&(this.$log.info("Document height changed"),this.documentHeight=document.documentElement.scrollHeight,this.setScrollPoints())}}}},2:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var o="https://api.connectedacademy.io/v1",i="3b3b0aa8045ca036d24515344ae0d60b"},244:function(t,e){},245:function(t,e){},348:function(t,e,n){function o(t){return n(i(t))}function i(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./locale":113,"./locale.js":113};o.keys=function(){return Object.keys(s)},o.resolve=i,t.exports=o,o.id=348},361:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.clazz,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e){return n("path",t._b({},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e){return n("polygon",t._b({},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[n("g",{domProps:{innerHTML:t._s(t.icon.raw)}})]:t._e()])],2)},staticRenderFns:[]}},362:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.pageStyles,attrs:{id:"app"}},[this.$store.state.debug?n("debug-panel",{on:{click:function(t){this.$store.commit("TOGGLE_DEBUG_MODE")}}}):t._e(),n("authentication-flow"),n("like-modal"),n("media-lightbox"),n("section-navigator"),n("burger-menu"),n("left-drawer"),t.isRegistered?n("right-drawer"):t._e(),n("div",{staticClass:"main-page",style:{"padding-top":this.$store.getters.navigationVisible?"0":"0px"}},[n("navigation"),n("div",{staticClass:"page-header",class:{minimized:t.navigation.minimized}}),n("transition",{attrs:{name:"fade",appear:"appear",mode:"out-in"}},[n("keep-alive",[n("router-view")],1)],1)],1),n("div",{class:{visible:t.overlayVisible},attrs:{id:"content-overlay"},on:{click:t.dismissOverlay}})],1)},staticRenderFns:[]}},368:function(t,e){},369:function(t,e){},6:function(t,e,n){"use strict";n.d(e,"h",function(){return o}),n.d(e,"l",function(){return i}),n.d(e,"M",function(){return s}),n.d(e,"N",function(){return r}),n.d(e,"O",function(){return u}),n.d(e,"P",function(){return c}),n.d(e,"D",function(){return a}),n.d(e,"E",function(){return l}),n.d(e,"H",function(){return f}),n.d(e,"I",function(){return d}),n.d(e,"F",function(){return h}),n.d(e,"G",function(){return g}),n.d(e,"J",function(){return m}),n.d(e,"K",function(){return p}),n.d(e,"A",function(){return v}),n.d(e,"t",function(){return S}),n.d(e,"u",function(){return b}),n.d(e,"v",function(){return _}),n.d(e,"B",function(){return w}),n.d(e,"k",function(){return E}),n.d(e,"a",function(){return y}),n.d(e,"w",function(){return P}),n.d(e,"x",function(){return A}),n.d(e,"y",function(){return T}),n.d(e,"z",function(){return C}),n.d(e,"C",function(){return M}),n.d(e,"b",function(){return k}),n.d(e,"r",function(){return I}),n.d(e,"g",function(){return L}),n.d(e,"j",function(){return $}),n.d(e,"i",function(){return D}),n.d(e,"n",function(){return O}),n.d(e,"o",function(){return G}),n.d(e,"c",function(){return R}),n.d(e,"m",function(){return U}),n.d(e,"L",function(){return H}),n.d(e,"d",function(){return x}),n.d(e,"f",function(){return V}),n.d(e,"e",function(){return N}),n.d(e,"p",function(){return F}),n.d(e,"q",function(){return z}),n.d(e,"s",function(){return j});var o="SHOW_AUTH",i="DISMISS_AUTH",s="CHECK_AUTH_SUCCESS",r="CHECK_AUTH_FAILURE",u="LOGOUT_SUCCESS",c="LOGOUT_FAILURE",a="GET_SCHEDULE_SUCCESS",l="GET_SCHEDULE_FAILURE",f="GET_HUBS_SUCCESS",d="GET_HUBS_FAILURE",h="GET_SPEC_SUCCESS",g="GET_SPEC_FAILURE",m="SET_CURRENT_CLASS",p="SET_COURSE_LANG",v="GET_MESSAGES_SUCCESS",S="SEND_MESSAGE_SUCCESS",b="SEND_MESSAGE_FAILURE",_="PUSH_SEGMENT_MESSAGE",w="SET_SEGMENT_MESSAGES",E="SET_SUBSCRIBED_TO",y="SET_LIGHTBOX_MEDIA",P="GET_MEDIA_SUCCESS",A="GET_MEDIA_FAILURE",T="GET_VISUALISATION_SUCCESS",C="GET_VISUALISATION_FAILURE",M="SHOW_LIKE",k="DISMISS_LIKE",I="SET_NAV_STATE",L="TOGGLE_DEBUG_MODE",$="TOGGLE_LEFT_DRAWER",D="TOGGLE_RIGHT_DRAWER",O="DISMISS_LEFT_DRAWER",G="DISMISS_RIGHT_DRAWER",R="SHOW_COMPOSER",U="DISMISS_COMPOSER",H="PEEK_COMPOSER",x="HIDE_COMPOSER",V="PLAY_VIDEO",N="PAUSE_VIDEO",F="SET_ACTIVE_SEGMENT",z="SET_PEEK_SEGMENT",j="SET_PAGE_STYLE"},66:function(t,e,n){n(244);var o=n(64)(n(196),n(361),null,null);t.exports=o.exports},7:function(t,e,n){"use strict";var o=n(0),i=n(8),s=n(71),r=n.n(s),u=n(185),c=n(186),a=n(195),l=n(191),f=n(193),d=n(187),h=n(188),g=n(190),m=n(189),p=n(192),v=n(194);o.default.use(i.a);var S=r()().format();e.a=new i.a.Store({actions:u,modules:{layout:l.a,navigation:f.a,auth:d.a,composer:h.a,course:g.a,conversation:m.a,lightbox:p.a,video:v.a},state:{debug:!1,timetravel:!1,fauxTime:S,scrollPosition:0,savedScrollPosition:0,pendingScrollPosition:0,offsetScrollPosition:0,autoPlaying:!1,scrollPoints:{},currentSection:void 0},getters:c,mutations:a})}},[182]);
//# sourceMappingURL=app.8a05d3075dc65d85596b.js.map